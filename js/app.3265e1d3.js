(function(e){function t(t){for(var a,r,c=t[0],s=t[1],u=t[2],l=0,b=[];l<c.length;l++)r=c[l],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&b.push(i[r][0]),i[r]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);d&&d(t);while(b.length)b.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,r=1;r<n.length;r++){var c=n[r];0!==i[c]&&(a=!1)}a&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={app:0},i={app:0},o=[];function c(e){return s.p+"js/"+({about:"about"}[e]||e)+"."+{about:"a9d1a4a7"}[e]+".js"}function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={about:1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var a="css/"+({about:"about"}[e]||e)+"."+{about:"a3cac4da"}[e]+".css",i=s.p+a,o=document.getElementsByTagName("link"),c=0;c<o.length;c++){var u=o[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===i))return t()}var b=document.getElementsByTagName("style");for(c=0;c<b.length;c++){u=b[c],l=u.getAttribute("data-href");if(l===a||l===i)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var a=t&&t.target&&t.target.src||i,o=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=a,delete r[e],d.parentNode.removeChild(d),n(o)},d.href=i;var p=document.getElementsByTagName("head")[0];p.appendChild(d)})).then((function(){r[e]=0})));var a=i[e];if(0!==a)if(a)t.push(a[2]);else{var o=new Promise((function(t,n){a=i[e]=[t,n]}));t.push(a[2]=o);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=c(e);var b=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(d);var n=i[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;b.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",b.name="ChunkLoadError",b.type=a,b.request=r,n[1](b)}i[e]=void 0}};var d=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/web/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var b=0;b<u.length;b++)t(u[b]);var d=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"01fa":function(e,t,n){"use strict";n("5854")},"07c1":function(e,t,n){"use strict";n("6184")},"082a":function(e,t,n){"use strict";n("283d")},"0e30":function(e,t,n){"use strict";n("5817")},1359:function(e,t,n){"use strict";n("32e9")},"1e6d":function(e,t,n){"use strict";n("f9f0")},"220b":function(e,t,n){},"230f":function(e,t,n){"use strict";n("220b")},"283d":function(e,t,n){},2910:function(e,t,n){},"2e33":function(e,t,n){"use strict";n("d35f")},3173:function(e,t,n){"use strict";n("f005")},"32e9":function(e,t,n){},4677:function(e,t,n){"use strict";n("8d32")},5817:function(e,t,n){},5854:function(e,t,n){},6184:function(e,t,n){},7087:function(e,t,n){},"7c43":function(e,t,n){"use strict";n("f2df")},"8d32":function(e,t,n){},"957d":function(e,t,n){"use strict";n("ebab")},a8a4:function(e,t,n){"use strict";n("c1fe")},a9b4:function(e,t,n){"use strict";n("c59c")},ad82:function(e,t,n){},c1fe:function(e,t,n){},c59c:function(e,t,n){},c9b5:function(e,t,n){"use strict";n("7087")},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23"),r={id:"nav"},i=Object(a["i"])("Home"),o=Object(a["i"])(" | "),c=Object(a["i"])("About");function s(e,t){var n=Object(a["B"])("router-link"),s=Object(a["B"])("router-view");return Object(a["t"])(),Object(a["f"])(a["a"],null,[Object(a["g"])("div",r,[Object(a["j"])(n,{to:"/"},{default:Object(a["J"])((function(){return[i]})),_:1}),o,Object(a["j"])(n,{to:"/about"},{default:Object(a["J"])((function(){return[c]})),_:1})]),Object(a["j"])(s)],64)}n("230f");var u=n("d959"),l=n.n(u);const b={},d=l()(b,[["render",s]]);var p=d,h=(n("d3b7"),n("3ca3"),n("ddb0"),{class:"home"});function v(e,t,n,r,i,o){var c=Object(a["B"])("MessageBar"),s=Object(a["B"])("App"),u=Object(a["B"])("Open"),l=Object(a["B"])("Toc"),b=Object(a["B"])("Content");return Object(a["t"])(),Object(a["f"])("div",h,[null!==e.message?(Object(a["t"])(),Object(a["d"])(c,{key:0,ref:"messageBar",message:e.message},null,8,["message"])):Object(a["e"])("",!0),Object(a["j"])(s,{ref:"app",onAppIsRunning:e.onAppIsRunning},null,8,["onAppIsRunning"]),e.appIsRunning?(Object(a["t"])(),Object(a["d"])(u,{key:1,ref:"open",onBookOpened:e.onOpenBook,workspace:e.workspace},null,8,["onBookOpened","workspace"])):Object(a["e"])("",!0),null!==e.book?(Object(a["t"])(),Object(a["d"])(l,{key:2,ref:"toc",onChapterRead:e.onChapterRead,onErrorMessage:e.onErrorMessage,book:e.book,chapterPath:e.workspace.chapterPath},null,8,["onChapterRead","onErrorMessage","book","chapterPath"])):Object(a["e"])("",!0),null!==e.chapter?(Object(a["t"])(),Object(a["d"])(b,{key:3,ref:"content",chapter:e.chapter,onVariableUpdated:e.onVariableUpdated,onVariableInitialised:e.onVariableUpdated},null,8,["chapter","onVariableUpdated","onVariableInitialised"])):Object(a["e"])("",!0)])}var m=n("d4ec"),f=n("bee2"),O=n("262e"),j=n("2caf"),y=(n("159b"),n("9ab4")),g=function(e){return Object(a["x"])("data-v-6b41caec"),e=e(),Object(a["u"])(),e},k={class:"app"},w={key:0,class:"help"},C=g((function(){return Object(a["g"])("h2",null,"Getting started",-1)})),V=g((function(){return Object(a["g"])("li",null,[Object(a["i"])(" Make sure that you have Java 17 installed. You can use "),Object(a["g"])("a",{href:"https://sdkman.io/install",target:"_blank"},"SDKMAN"),Object(a["i"])(" to install Java ")],-1)})),P=g((function(){return Object(a["g"])("li",null,[Object(a["i"])(" Download the application: "),Object(a["g"])("a",{class:"download-app",href:"https://github.com/sociable-weaver/app-java-boot/releases/download/v0.26/sw-app.jar"},"sw-app.jar")],-1)})),x=g((function(){return Object(a["g"])("li",null,[Object(a["i"])(" Run the application using the following command "),Object(a["g"])("pre",null,"$ java -jar sw-app.jar"),Object(a["i"])(" You can run the application from anywhere you like and you don't have to save it in a special folder. ")],-1)})),E=Object(a["i"])(" Click "),D=Object(a["i"])(" to check if the application has started correctly. ");function S(e,t,n,r,i,o){return Object(a["t"])(),Object(a["f"])("div",k,[Object(a["g"])("h1",null,Object(a["D"])(e.message),1),e.showHelp?(Object(a["t"])(),Object(a["f"])("div",w,[C,Object(a["g"])("ol",null,[V,P,x,Object(a["g"])("li",null,[E,Object(a["g"])("a",{class:"try-app-again",href:"#",onClick:t[0]||(t[0]=function(t){return e.checkApplicationStatus()})},"here"),D])])])):Object(a["e"])("",!0)])}var A=n("bc3a"),R=n.n(A),T=R.a.create({baseURL:"http://localhost:8077",withCredentials:!1,headers:{Accept:"application/json","Content-Type":"application/json"}});function U(e){var t,n;return null==e||void 0===e?"Unknown error":(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||(null===e||void 0===e?void 0:e.message)||"Unknown error"}var M=n("ce1f"),N=function(e){Object(O["a"])(n,e);var t=Object(j["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.message="Sociable Weaver",e.showHelp=!1,e}return Object(f["a"])(n,[{key:"mounted",value:function(){var e=this;this.$nextTick((function(){e.checkApplicationStatus()}))}},{key:"checkApplicationStatus",value:function(){var e=this;this.isAppRunning().then((function(t){e.message=t.message,e.showHelp=t.showHelp,e.$emit("appIsRunning",t.isRunning)})).catch((function(t){e.message="Failed to check the application status (".concat(U(t),")"),e.showHelp=!1,e.$emit("appIsRunning",!1)}))}},{key:"isAppRunning",value:function(){return T.get("/api/hello").then((function(e){return e.status})).then((function(e){return 200===e?{isRunning:!0,message:"Application is running",showHelp:!1}:{isRunning:!1,message:"Application is running, but unhealthy",showHelp:!1}})).catch((function(e){if("Network Error"===(null===e||void 0===e?void 0:e.message))return{isRunning:!1,message:"Application is not running or cannot be reached by this page",showHelp:!0};throw e}))}}]),n}(M["b"]);N=Object(y["a"])([Object(M["a"])({name:"App",emits:["appIsRunning"]})],N);var _=N;n("4677");const I=l()(_,[["render",S],["__scopeId","data-v-6b41caec"]]);var H=I,B={class:"content"},K=["id","onMouseenter","onMouseleave"],F={key:13,class:"error",role:"error"},$=Object(a["i"])(" Do not know how to renter entries of type: "),L={key:15,class:"error"},G={key:16,class:"buttons-bar",role:"buttons-bar"},W={class:"buttons editable",role:"save-buttons"},J=["disabled","onClick"],q=["disabled","onClick"],Y={key:17,class:"buttons-bar",role:"run-buttons"},Z={key:0,class:"buttons runnable"},X=["disabled","onClick"],z=["disabled","onClick"],Q=["disabled","onClick"],ee=["disabled","onClick"],te={key:1,class:"buttons editable",role:"edit-buttons"},ne=["disabled","onClick"],ae=["disabled","onChange"],re=Object(a["h"])('<option disabled selected value="" data-v-217ab504>Add next</option><option value="command" data-v-217ab504>Command</option><option value="git-apply-patch" data-v-217ab504>Git Apply Patch</option><option value="markdown" data-v-217ab504>Markdown</option><option value="section" data-v-217ab504>Section</option><option value="subsection" data-v-217ab504>Subsection</option><option value="todo" data-v-217ab504>Todo</option><option value="variable" data-v-217ab504>Variable</option>',8),ie=[re],oe=["disabled","onClick"];function ce(e,t,n,r,i,o){var c=Object(a["B"])("ChapterRenderer"),s=Object(a["B"])("Command"),u=Object(a["B"])("Create"),l=Object(a["B"])("Download"),b=Object(a["B"])("GitApplyPatch"),d=Object(a["B"])("GitCommitChanges"),p=Object(a["B"])("GitTagCurrentCommit"),h=Object(a["B"])("Markdown"),v=Object(a["B"])("Replace"),m=Object(a["B"])("Section"),f=Object(a["B"])("Subsection"),O=Object(a["B"])("Todo"),j=Object(a["B"])("Variable");return Object(a["t"])(),Object(a["f"])("div",B,[(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["A"])(e.chapter.entries,(function(t,n){return Object(a["t"])(),Object(a["f"])("div",{key:t.id,id:t.id,class:"entry",onMouseenter:function(n){return e.onMouseEnter(t)},onMouseleave:function(n){return e.onMouseLeave(t)}},["chapter"===t.type?(Object(a["t"])(),Object(a["d"])(c,{key:0,entry:t},null,8,["entry"])):"command"===t.type?(Object(a["t"])(),Object(a["d"])(s,{key:1,entry:t},null,8,["entry"])):"create"===t.type?(Object(a["t"])(),Object(a["d"])(u,{key:2,entry:t},null,8,["entry"])):"download"===t.type?(Object(a["t"])(),Object(a["d"])(l,{key:3,entry:t},null,8,["entry"])):"git-apply-patch"===t.type?(Object(a["t"])(),Object(a["d"])(b,{key:4,entry:t},null,8,["entry"])):"git-commit-changes"===t.type?(Object(a["t"])(),Object(a["d"])(d,{key:5,entry:t},null,8,["entry"])):"git-tag-current-commit"===t.type?(Object(a["t"])(),Object(a["d"])(p,{key:6,entry:t},null,8,["entry"])):"markdown"===t.type?(Object(a["t"])(),Object(a["d"])(h,{key:7,entry:t},null,8,["entry"])):"replace"===t.type?(Object(a["t"])(),Object(a["d"])(v,{key:8,entry:t},null,8,["entry"])):"section"===t.type?(Object(a["t"])(),Object(a["d"])(m,{key:9,entry:t},null,8,["entry"])):"subsection"===t.type?(Object(a["t"])(),Object(a["d"])(f,{key:10,entry:t},null,8,["entry"])):"todo"===t.type?(Object(a["t"])(),Object(a["d"])(O,{key:11,entry:t},null,8,["entry"])):"variable"===t.type?(Object(a["t"])(),Object(a["d"])(j,{key:12,entry:t,onVariableUpdated:e.onVariableUpdated,onVariableInitialised:e.onVariableInitialised},null,8,["entry","onVariableUpdated","onVariableInitialised"])):(Object(a["t"])(),Object(a["f"])("div",F,[$,Object(a["g"])("code",null,Object(a["D"])(t.type),1)])),t.output?(Object(a["t"])(),Object(a["f"])("pre",{key:14,class:Object(a["p"])(["output",{error:t.failed}])},Object(a["D"])(t.output),3)):Object(a["e"])("",!0),t.error?(Object(a["t"])(),Object(a["f"])("pre",L,Object(a["D"])(t.error),1)):Object(a["e"])("",!0),!0===t.edit?(Object(a["t"])(),Object(a["f"])("div",G,[Object(a["g"])("div",W,[Object(a["g"])("button",{disabled:e.disabled,onClick:function(n){return e.onCancel(t)}},"Cancel",8,J),Object(a["g"])("button",{disabled:e.disabled,onClick:function(n){return e.onSave(t)},class:"primary",role:"save"},"Save",8,q)])])):(Object(a["t"])(),Object(a["f"])("div",Y,[e.isRunnable(t)?(Object(a["t"])(),Object(a["f"])("div",Z,[Object(a["g"])("button",{disabled:e.disabled,onClick:function(n){return e.onCopy(t)},class:"copy",title:"Copy this command to the clipboard"}," Copy ",8,X),Object(a["g"])("button",{disabled:e.disabled,onClick:function(n){return e.onRun(t)},class:"primary",title:"Run this command"},"Run",8,z),Object(a["g"])("button",{disabled:e.disabled,onClick:function(t){return e.onRunUntilHere(n)},title:"Run all commands from the beginning until this one"}," Run until here ",8,Q),Object(a["g"])("button",{disabled:e.disabled,onClick:function(n){return e.onClear(t)},class:"clear",title:"Clear the command output from here"}," Clear ",8,ee)])):Object(a["e"])("",!0),t.showEditControls?(Object(a["t"])(),Object(a["f"])("div",te,[Object(a["g"])("button",{disabled:e.disabled,onClick:function(n){return e.onDelete(t)},class:"danger",title:"Delete this entry"},"Delete",8,ne),Object(a["g"])("select",{disabled:e.disabled,onChange:function(n){return e.onAddNext(n,t)},title:"Add a new enter right after this one"},ie,40,ae),Object(a["g"])("button",{disabled:e.disabled,onClick:function(n){return e.onEdit(t)},title:"Show this entry in edit mode, from where you can change it"}," Edit ",8,oe)])):Object(a["e"])("",!0)]))],40,K)})),128))])}n("7db0"),n("b0c0"),n("a434");var se={key:0},ue={key:1};function le(e,t,n,r,i,o){return!0===e.entry.edit?(Object(a["t"])(),Object(a["f"])("div",se,[Object(a["K"])(Object(a["g"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.editChapter=t}),placeholder:"Chapter"},null,512),[[a["H"],e.editChapter]])])):(Object(a["t"])(),Object(a["f"])("h2",ue,Object(a["D"])(e.chapter),1))}var be;n("4de4"),n("d81d"),n("ac1f"),n("5319"),n("5b81"),n("a15b");function de(e,t){void 0!==e.variables&&e.variables.indexOf(t.name)>-1&&(void 0===e.values&&(e.values={}),e.values[t.name]=t.value)}function pe(e){if(void 0===e.variables||0==e.variables.length)return!0;if(void 0===e.values)return!1;var t=e.variables.map((function(t){return e.values[t]})).filter((function(e){return void 0===e||0==e.length})).length;return 0===t}function he(e,t,n){if(void 0===e||void 0===t)return n;var a=n;return e.forEach((function(e){var n=t[e];void 0!==n&&(a=a.replaceAll("${".concat(e,"}"),n))})),a}function ve(e){return void 0!=e&&Array.isArray(e)&&e.length>0}function me(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return""};return Array.isArray(e)&&0!=e.length?e.join("\n"):t()}function fe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return""};return!Array.isArray(e)||e.length<=t?n():e[t]}function Oe(e){return{type:e.type,id:e.id,name:e.name,workingDirectory:e.workingDirectory,parameters:Object.assign([],e.parameters),variables:Object.assign([],e.variables),environmentVariables:Object.assign([],e.environmentVariables),values:Object.assign({},e.values),ignoreErrors:e.ignoreErrors,pushChanges:e.pushChanges,dryRun:e.dryRun,sensitive:e.sensitive,expectedExitValue:e.expectedExitValue,commandTimeout:e.commandTimeout}}function je(e,t){return e.workingDirectory!==t.workingDirectory||me(e.parameters)!==me(t.parameters)||me(e.variables)!==me(t.variables)||me(e.environmentVariables)!==me(t.environmentVariables)||e.ignoreErrors!==t.ignoreErrors||e.dryRun!==t.dryRun||e.expectedExitValue!==t.expectedExitValue||e.commandTimeout!==t.commandTimeout}(function(e){e[e["Changed"]=0]="Changed",e[e["NotChanged"]=1]="NotChanged",e[e["KeepEditing"]=2]="KeepEditing"})(be||(be={}));var ye=function(e){Object(O["a"])(n,e);var t=Object(j["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.edit={parameters:[""]},e}return Object(f["a"])(n,[{key:"mounted",value:function(){this.entry.onSave=this.onSave,this.edit=Oe(this.entry)}},{key:"chapter",get:function(){return fe(this.entry.parameters)}},{key:"editChapter",get:function(){return fe(this.edit.parameters)},set:function(e){this.edit.parameters=[e]}},{key:"onSave",value:function(){return 0===fe(this.edit.parameters).length?(this.entry.error="The chapter cannot be empty",{outcome:be.KeepEditing}):je(this.entry,this.edit)?{outcome:be.Changed,entry:this.edit}:{outcome:be.NotChanged}}}]),n}(M["b"]);ye=Object(y["a"])([Object(M["a"])({name:"Chapter",props:{entry:Object}})],ye);var ge=ye;n("01fa");const ke=l()(ge,[["render",le],["__scopeId","data-v-34fa9a14"]]);var we=ke,Ce=(n("b64b"),n("99af"),n("e9c4"),function(e){return Object(a["x"])("data-v-71c467c1"),e=e(),Object(a["u"])(),e}),Ve={key:0},Pe={role:"working-directory",class:"row"},xe=Ce((function(){return Object(a["g"])("label",null,"Working directory",-1)})),Ee=Ce((function(){return Object(a["g"])("div",{class:"tip"},"The directory from the command will be running.",-1)})),De={role:"command",class:"row"},Se=Ce((function(){return Object(a["g"])("label",null,"Command",-1)})),Ae={class:"template"},Re=Ce((function(){return Object(a["g"])("label",null,"Template",-1)})),Te=Ce((function(){return Object(a["g"])("option",{disabled:"",selected:"",value:""},"use template",-1)})),Ue=["label"],Me=["value"],Ne={role:"variables",class:"row"},_e=Ce((function(){return Object(a["g"])("label",null,"Variables",-1)})),Ie=["onChange","value"],He=["onClick"],Be={role:"missing-variables",class:"row"},Ke=Ce((function(){return Object(a["g"])("label",null,"Potential missing variables",-1)})),Fe=["onClick"],$e={role:"environment-variables",class:"row"},Le=Ce((function(){return Object(a["g"])("label",null,"Environment Variables",-1)})),Ge=["onChange","value"],We=["onClick"],Je={role:"expected-exit-value",class:"row"},qe=Ce((function(){return Object(a["g"])("label",null,"Expected exit value",-1)})),Ye=Ce((function(){return Object(a["g"])("div",{class:"tip"},[Object(a["i"])(" All commands return a value when they finish, known as the "),Object(a["g"])("a",{href:"https://en.wikipedia.org/wiki/Exit_status",target:"_blank"},"exit value or exit status"),Object(a["i"])(". Generally, "),Object(a["g"])("code",null,"0"),Object(a["i"])(", means that the program finish successfully. Set this value to indicate the expected exit value. In some examples, we may be expecting the command to fail, and finish with exit value "),Object(a["g"])("code",null,"1"),Object(a["i"])(", for example. ")],-1)})),Ze={role:"command-timeout",class:"row"},Xe=Ce((function(){return Object(a["g"])("label",null,[Object(a["i"])("Command timeout "),Object(a["g"])("span",{class:"unit"},"(in seconds)")],-1)})),ze=Ce((function(){return Object(a["g"])("div",{class:"tip"}," The command is terminated if it takes more than the set value. If no value is provided the command will be terminated if it takes more than 5 seconds to complete. ",-1)})),Qe={role:"ignore-errors",class:"row"},et=Ce((function(){return Object(a["g"])("label",null,"Ignore errors",-1)})),tt=Ce((function(){return Object(a["g"])("div",{class:"tip"}," There are commands that may fails, such as deleting a resource that does not exists. Check this checkbox if you like to ignore the errors and proceed. ",-1)})),nt={role:"dry-run",class:"row"},at=Ce((function(){return Object(a["g"])("label",null,"Dry run",-1)})),rt=Ce((function(){return Object(a["g"])("div",{class:"tip"},"Check to prevent commands from running",-1)})),it={key:1},ot={key:0,class:"variables"},ct=Ce((function(){return Object(a["g"])("div",null,"This command is using the following variables:",-1)})),st={class:"command"},ut={key:0,role:"workingDirectory",class:"workingDirectory"},lt=Object(a["i"])(" Working from: ");function bt(e,t,n,r,i,o){return!0===e.entry.edit?(Object(a["t"])(),Object(a["f"])("div",Ve,[Object(a["g"])("div",Pe,[xe,Object(a["K"])(Object(a["g"])("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.edit.workingDirectory=t}),role:"working-directory"},null,512),[[a["H"],e.edit.workingDirectory]]),Ee]),Object(a["g"])("div",De,[Se,Object(a["g"])("div",Ae,[Re,Object(a["g"])("select",{onChange:t[1]||(t[1]=function(t){return e.onUseTemplate(t)}),title:"Select a template to simplify the creation of commands"},[Te,(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["A"])(Object.keys(e.templates),(function(t){return Object(a["t"])(),Object(a["f"])("optgroup",{key:t,label:t},[(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["A"])(e.templates[t],(function(e){return Object(a["t"])(),Object(a["f"])("option",{key:t.concat("-").concat(e.name),value:JSON.stringify(e.parameters)},Object(a["D"])(e.name),9,Me)})),128))],8,Ue)})),128))],32)]),Object(a["K"])(Object(a["g"])("textarea",{"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.editCommand=t}),placeholder:"command",role:"command"},null,512),[[a["H"],e.editCommand]])]),Object(a["g"])("div",Ne,[_e,(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["A"])(e.edit.variables,(function(t,n){return Object(a["t"])(),Object(a["f"])("div",{key:t,role:"variable"},[Object(a["g"])("input",{onChange:function(a){return e.onUpdateVariable(t,n,a)},value:t,role:"update-variable"},null,40,Ie),Object(a["g"])("button",{onClick:function(t){return e.onRemoveVariable(n)},role:"remove-variable"},"Remove",8,He)])})),128)),Object(a["g"])("div",null,[Object(a["K"])(Object(a["g"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.newVariable=t}),placeholder:"Variable Name",role:"new-variable"},null,512),[[a["H"],e.newVariable]]),Object(a["g"])("button",{onClick:t[4]||(t[4]=function(){return e.onAddVariable&&e.onAddVariable.apply(e,arguments)}),role:"add-variable"},"Add")])]),Object(a["g"])("div",Be,[Ke,(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["A"])(e.missingVariables,(function(t){return Object(a["t"])(),Object(a["f"])("div",{key:t,role:"missing-variable"},[Object(a["g"])("span",null,Object(a["D"])(t),1),Object(a["g"])("button",{onClick:function(n){return e.onAddMissingVariable(t)}},"Add",8,Fe)])})),128))]),Object(a["g"])("div",$e,[Le,(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["A"])(e.edit.environmentVariables,(function(t,n){return Object(a["t"])(),Object(a["f"])("div",{key:t,role:"environment-variable"},[Object(a["g"])("input",{onChange:function(a){return e.onUpdateEnvironmentVariable(t,n,a)},value:t,role:"update-environment-variable"},null,40,Ge),Object(a["g"])("button",{onClick:function(t){return e.onRemoveEnvironmentVariable(n)},role:"remove-environment-variable"},"Remove",8,We)])})),128)),Object(a["g"])("div",null,[Object(a["K"])(Object(a["g"])("input",{"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.newEnvironmentVariable=t}),placeholder:"Environment Variable Name",role:"new-environment-variable"},null,512),[[a["H"],e.newEnvironmentVariable]]),Object(a["g"])("button",{onClick:t[6]||(t[6]=function(){return e.onAddEnvironmentVariable&&e.onAddEnvironmentVariable.apply(e,arguments)}),role:"add-environment-variable"},"Add")])]),Object(a["g"])("div",Je,[qe,Object(a["K"])(Object(a["g"])("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=function(t){return e.edit.expectedExitValue=t}),role:"expected-exit-value"},null,512),[[a["H"],e.edit.expectedExitValue,void 0,{number:!0}]]),Ye]),Object(a["g"])("div",Ze,[Xe,Object(a["K"])(Object(a["g"])("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=function(t){return e.edit.commandTimeout=t}),role:"command-timeout"},null,512),[[a["H"],e.edit.commandTimeout,void 0,{number:!0}]]),ze]),Object(a["g"])("div",Qe,[et,Object(a["K"])(Object(a["g"])("input",{type:"checkbox","onUpdate:modelValue":t[9]||(t[9]=function(t){return e.edit.ignoreErrors=t}),role:"ignore-errors"},null,512),[[a["F"],e.edit.ignoreErrors]]),tt]),Object(a["g"])("div",nt,[at,Object(a["K"])(Object(a["g"])("input",{type:"checkbox","onUpdate:modelValue":t[10]||(t[10]=function(t){return e.edit.dryRun=t}),role:"dry-run"},null,512),[[a["F"],e.edit.dryRun]]),rt])])):(Object(a["t"])(),Object(a["f"])("div",it,[e.usesVariables?(Object(a["t"])(),Object(a["f"])("div",ot,[ct,Object(a["g"])("ul",null,[(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["A"])(e.entry.variables,(function(e){return Object(a["t"])(),Object(a["f"])("li",{key:e},[Object(a["g"])("code",null,Object(a["D"])(e),1)])})),128))])])):Object(a["e"])("",!0),Object(a["g"])("div",st,[e.workingDirectory?(Object(a["t"])(),Object(a["f"])("div",ut,[lt,Object(a["g"])("code",null,Object(a["D"])(e.workingDirectory),1)])):Object(a["e"])("",!0),Object(a["g"])("pre",null,Object(a["D"])(e.command),1)])]))}n("1276"),n("466d"),n("caad"),n("2532"),n("498a"),n("00b4");var dt,pt=dt=function(e){Object(O["a"])(n,e);var t=Object(j["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.edit={parameters:[""]},e.newVariable="",e.newEnvironmentVariable="",e.templates=dt.createTemplates(),e}return Object(f["a"])(n,[{key:"mounted",value:function(){this.entry.onSave=this.onSave,this.edit=Oe(this.entry),ve(this.edit.parameters)||(this.edit.parameters=[dt.defaultCommand()])}},{key:"usesVariables",get:function(){return ve(this.entry.variables)}},{key:"workingDirectory",get:function(){return this.entry.workingDirectory?this.entry.workingDirectory:""}},{key:"command",get:function(){var e=me(this.entry.parameters,dt.defaultCommand);return he(this.entry.variables,this.entry.values,e)}},{key:"editCommand",get:function(){return me(this.edit.parameters)},set:function(e){this.edit.parameters=e.split("\n")}},{key:"onUseTemplate",value:function(e){var t=e.target;console.log("Value",t.value),this.edit.parameters=JSON.parse(t.value),t.value=""}},{key:"missingVariables",get:function(){var e=this,t=me(this.edit.parameters),n=t.match(dt.variableNameRegex())||[];return n.map((function(e){return e.substring(2,e.length-1)})).filter((function(t){return!e.edit.variables.includes(t)}))}},{key:"onAddVariable",value:function(){this.entry.error="";var e=this.newVariable.trim().toUpperCase();if(0!==e.length){var t=dt.variableNameRegex();t.test("${".concat(e,"}"))?this.edit.variables.includes(e)?this.entry.error="Another variable with the same name already exists":(this.edit.variables.push(e),this.newVariable=""):this.entry.error="Invalid variable name.  Only letters, numbers, underscore and dash are permitted"}else this.entry.error="Cannot add a variable without name"}},{key:"onUpdateVariable",value:function(e,t,n){this.entry.error="";var a=n.target,r=a.value.trim().toUpperCase();if(e!==r)return 0===r.length?(this.entry.error="Cannot have a variable without name",void(a.value=e)):this.edit.variables.includes(r)?(this.entry.error="Another variable with the same name already exists",void(a.value=e)):void(this.edit.variables[t]=r);a.value=e}},{key:"onRemoveVariable",value:function(e){this.edit.variables.splice(e,1)}},{key:"onAddEnvironmentVariable",value:function(){this.entry.error="";var e=this.newEnvironmentVariable.trim().toUpperCase();if(0!==e.length){var t=dt.variableNameRegex();t.test("${".concat(e,"}"))?this.edit.environmentVariables.includes(e)?this.entry.error="Another environment variable with the same name already exists":(this.edit.environmentVariables.push(e),this.newEnvironmentVariable=""):this.entry.error="Invalid environment variable name.  Only letters, numbers, underscore and dash are permitted"}else this.entry.error="Cannot add an environment variable without name"}},{key:"onUpdateEnvironmentVariable",value:function(e,t,n){this.entry.error="";var a=n.target,r=a.value.trim().toUpperCase();if(e!==r)return 0===r.length?(this.entry.error="Cannot have a variable without name",void(a.value=e)):this.edit.environmentVariables.includes(r)?(this.entry.error="Another variable with the same name already exists",void(a.value=e)):void(this.edit.environmentVariables[t]=r);a.value=e}},{key:"onRemoveEnvironmentVariable",value:function(e){this.edit.environmentVariables.splice(e,1)}},{key:"onAddMissingVariable",value:function(e){this.edit.variables.push(e)}},{key:"onSave",value:function(){var e=this.editCommand.trim();return 0===e.length?(this.entry.error="The command cannot be empty",{outcome:be.KeepEditing}):je(this.entry,this.edit)?{outcome:be.Changed,entry:this.edit}:{outcome:be.NotChanged}}}],[{key:"variableNameRegex",value:function(){return/\${[A-Z0-9_-]+}/}},{key:"defaultCommand",value:function(){return"echo 'Hello world!!'"}},{key:"createTemplates",value:function(){return{Echo:[{name:"echo 'Hello world!!'",parameters:["echo 'Hello world!!'"]}],Git:[{name:"init",parameters:["git init --initial-branch=main"]},{name:"config user",parameters:["git config user.name '${DEVELOPER_NAME}'","git config user.email '${DEVELOPER_EMAIL}'"]},{name:"add and commit",parameters:["git add .","git commit --message 'Commit message'"]},{name:"tag last commit",parameters:["git tag --annotate 'v1.0.0' --message 'Tag Message'"]},{name:"list config",parameters:["git config --list"]}],Gradle:[{name:"init",parameters:["gradle init --type basic --dsl groovy --project-name hello-world"]},{name:"version",parameters:["./gradlew --version"]},{name:"set wrapper version",parameters:["./gradlew wrapper --gradle-version=7.3.3"]},{name:"create src",parameters:["mkdir -p 'src/main/java'","mkdir -p 'src/main/resources'","mkdir -p 'src/test/java'","mkdir -p 'src/test/resources'"]},{name:"list tasks",parameters:["./gradlew tasks"]},{name:"build",parameters:["./gradlew build"]},{name:"run",parameters:["./gradlew run"]},{name:"dependencies",parameters:["./gradlew dependencies --configuration runtimeClasspath"]},{name:"dependency insight",parameters:["./gradlew dependencyInsight --dependency org.slf4j:slf4j-api --configuration runtimeClasspath"]}],Docker:[{name:"tag and push",parameters:["docker tag source remote","docker push remote"]}],Hash:[{name:"SHA-256",parameters:["openssl dgst -sha256 'src/test/resources/fixtures/sample.txt'"]}]}}}]),n}(M["b"]);pt=dt=Object(y["a"])([Object(M["a"])({name:"Command",props:{entry:Object}})],pt);var ht=pt;n("082a");const vt=l()(ht,[["render",bt],["__scopeId","data-v-71c467c1"]]);var mt=vt,ft={class:"filePath"},Ot={class:"content"};function jt(e,t,n,r,i,o){return Object(a["t"])(),Object(a["f"])(a["a"],null,[Object(a["g"])("div",ft,"Create the file: "+Object(a["D"])(e.filePath)+", with the following contents",1),Object(a["g"])("pre",Ot,Object(a["D"])(e.content),1)],64)}n("fb6a");var yt=function(e){Object(O["a"])(n,e);var t=Object(j["a"])(n);function n(){return Object(m["a"])(this,n),t.apply(this,arguments)}return Object(f["a"])(n,[{key:"filePath",get:function(){var e=this.entry.workingDirectory?"".concat(this.entry.workingDirectory,"/"):"";return"".concat(e).concat(this.entry.parameters[0])}},{key:"content",get:function(){return"".concat(this.entry.parameters.slice(1).join("\n"),"\n")}}]),n}(M["b"]);yt=Object(y["a"])([Object(M["a"])({name:"Create",props:{entry:Object}})],yt);var gt=yt;n("f09e");const kt=l()(gt,[["render",jt],["__scopeId","data-v-5e3ed990"]]);var wt=kt,Ct={class:"download"};function Vt(e,t,n,r,i,o){return Object(a["t"])(),Object(a["f"])("pre",Ct,Object(a["D"])(e.command),1)}var Pt=function(e){Object(O["a"])(n,e);var t=Object(j["a"])(n);function n(){return Object(m["a"])(this,n),t.apply(this,arguments)}return Object(f["a"])(n,[{key:"command",get:function(){var e=this.entry.workingDirectory?"".concat(this.entry.workingDirectory," "):"",t="$",n=this.entry.parameters[0],a=this.entry.parameters[1];return"".concat(e).concat(t," curl --location '").concat(n,"' --output '").concat(a,"'")}}]),n}(M["b"]);Pt=Object(y["a"])([Object(M["a"])({name:"Download",props:{entry:Object}})],Pt);var xt=Pt;n("a9b4");const Et=l()(xt,[["render",Vt],["__scopeId","data-v-667402eb"]]);var Dt=Et,St=function(e){return Object(a["x"])("data-v-5d3a442d"),e=e(),Object(a["u"])(),e},At={key:0},Rt={role:"working-directory",class:"row"},Tt=St((function(){return Object(a["g"])("label",null,"Working directory",-1)})),Ut=St((function(){return Object(a["g"])("div",{class:"tip"},"The directory from the patch will be applied.",-1)})),Mt={role:"patch",class:"row"},Nt=St((function(){return Object(a["g"])("label",null,"Patch",-1)})),_t={key:1},It={key:0,role:"workingDirectory",class:"workingDirectory"},Ht=Object(a["i"])(" Working from: "),Bt=["innerHTML"];function Kt(e,t,n,r,i,o){return!0===e.entry.edit?(Object(a["t"])(),Object(a["f"])("div",At,[Object(a["g"])("div",Rt,[Tt,Object(a["K"])(Object(a["g"])("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.edit.workingDirectory=t}),role:"working-directory"},null,512),[[a["H"],e.edit.workingDirectory]]),Ut]),Object(a["g"])("div",Mt,[Nt,Object(a["K"])(Object(a["g"])("textarea",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.editPatch=t}),placeholder:"patch",role:"patch"},null,512),[[a["H"],e.editPatch]])])])):(Object(a["t"])(),Object(a["f"])("div",_t,[e.workingDirectory?(Object(a["t"])(),Object(a["f"])("div",It,[Ht,Object(a["g"])("code",null,Object(a["D"])(e.workingDirectory),1)])):Object(a["e"])("",!0),Object(a["g"])("div",{class:"patch",innerHTML:e.patch},null,8,Bt)]))}var Ft,$t=n("ae7d"),Lt=Ft=function(e){Object(O["a"])(n,e);var t=Object(j["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.edit={parameters:[""]},e}return Object(f["a"])(n,[{key:"mounted",value:function(){this.entry.onSave=this.onSave,this.edit=Oe(this.entry)}},{key:"patch",get:function(){var e=me(this.entry.parameters);return 0===e.length?Ft.noPatchMessage():Ft.renderPatch(e)}},{key:"editPatch",get:function(){return me(this.edit.parameters)},set:function(e){this.edit.parameters=e.split("\n")}},{key:"workingDirectory",get:function(){return this.entry.workingDirectory?this.entry.workingDirectory:""}},{key:"onSave",value:function(){var e=this.editPatch.trim();return 0===e.length?(this.entry.error="The patch cannot be empty",{outcome:be.KeepEditing}):je(this.entry,this.edit)?{outcome:be.Changed,entry:this.edit}:{outcome:be.NotChanged}}}],[{key:"noPatchMessage",value:function(){return"<div>No patch information is available</div>"}},{key:"renderPatch",value:function(e){var t={drawFileList:!1,fileContentToggle:!1};return Object($t["a"])(e,t)}}]),n}(M["b"]);Lt=Ft=Object(y["a"])([Object(M["a"])({name:"GitApplyPatch",props:{entry:Object}})],Lt);var Gt=Lt;n("a8a4");const Wt=l()(Gt,[["render",Kt],["__scopeId","data-v-5d3a442d"]]);var Jt=Wt;function qt(e,t,n,r,i,o){return Object(a["t"])(),Object(a["f"])("pre",null,Object(a["D"])(e.command),1)}var Yt=function(e){Object(O["a"])(n,e);var t=Object(j["a"])(n);function n(){return Object(m["a"])(this,n),t.apply(this,arguments)}return Object(f["a"])(n,[{key:"command",get:function(){var e=this.entry.workingDirectory?"".concat(this.entry.workingDirectory," "):"",t="$",n="".concat(e).concat(t),a=this.entry.parameters[0],r=this.entry.parameters.length>1&&this.entry.parameters[1],i=this.entry.pushChanges||!1,o="".concat(n," git add .");return o+="\n".concat(n," git commit --message '").concat(a,"'"),r?(o+="\n".concat(n," git tag --annotate '").concat(r,"' --message '").concat(a,"'"),i&&(o+="\n".concat(n," git push --atomic origin main '").concat(r,"'"))):i&&(o+="\n".concat(n," git push origin main")),o}}]),n}(M["b"]);Yt=Object(y["a"])([Object(M["a"])({name:"GitCommitChanges",props:{entry:Object}})],Yt);var Zt=Yt;n("c9b5");const Xt=l()(Zt,[["render",qt],["__scopeId","data-v-7abe477a"]]);var zt=Xt;function Qt(e,t,n,r,i,o){return Object(a["t"])(),Object(a["f"])("pre",null,Object(a["D"])(e.command),1)}var en=function(e){Object(O["a"])(n,e);var t=Object(j["a"])(n);function n(){return Object(m["a"])(this,n),t.apply(this,arguments)}return Object(f["a"])(n,[{key:"command",get:function(){var e=this.entry.workingDirectory?"".concat(this.entry.workingDirectory," "):"",t="$",n=this.entry.parameters[0],a=this.entry.parameters.length>1&&this.entry.parameters[1],r="".concat(e).concat(t," git tag --annotate '").concat(n,"'");return a&&(r+=" --message '".concat(a,"'")),r}}]),n}(M["b"]);en=Object(y["a"])([Object(M["a"])({name:"GitTagCurrentCommit",props:{entry:Object}})],en);var tn=en;n("07c1");const nn=l()(tn,[["render",Qt],["__scopeId","data-v-2a2edffc"]]);var an=nn,rn=function(e){return Object(a["x"])("data-v-2100f503"),e=e(),Object(a["u"])(),e},on={key:0},cn={role:"markdown",class:"row"},sn=rn((function(){return Object(a["g"])("label",null,"Markdown",-1)})),un={role:"variables",class:"row"},ln=rn((function(){return Object(a["g"])("label",null,"Variables",-1)})),bn=["onChange","value"],dn=["onClick"],pn={key:0,role:"missing-variables",class:"row"},hn=rn((function(){return Object(a["g"])("label",null,"Potential missing variables",-1)})),vn=["onClick"],mn=["innerHTML"];function fn(e,t,n,r,i,o){return!0===e.entry.edit?(Object(a["t"])(),Object(a["f"])("div",on,[Object(a["g"])("div",cn,[sn,Object(a["K"])(Object(a["g"])("textarea",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.editMarkdown=t}),placeholder:"Markdown"},null,512),[[a["H"],e.editMarkdown]])]),Object(a["g"])("div",un,[ln,(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["A"])(e.edit.variables,(function(t,n){return Object(a["t"])(),Object(a["f"])("div",{key:t,role:"variable"},[Object(a["g"])("input",{onChange:function(a){return e.onUpdateVariable(t,n,a)},value:t,role:"update-variable"},null,40,bn),Object(a["g"])("button",{onClick:function(t){return e.onRemoveVariable(n)},role:"remove-variable"},"Remove",8,dn)])})),128)),Object(a["g"])("div",null,[Object(a["K"])(Object(a["g"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.newVariable=t}),placeholder:"Variable Name",role:"new-variable"},null,512),[[a["H"],e.newVariable]]),Object(a["g"])("button",{onClick:t[2]||(t[2]=function(){return e.onAddVariable&&e.onAddVariable.apply(e,arguments)}),role:"add-variable"},"Add")])]),e.missingVariables.length>0?(Object(a["t"])(),Object(a["f"])("div",pn,[hn,(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["A"])(e.missingVariables,(function(t){return Object(a["t"])(),Object(a["f"])("div",{key:t,role:"missing-variable"},[Object(a["g"])("span",null,Object(a["D"])(t),1),Object(a["g"])("button",{onClick:function(n){return e.onAddMissingVariable(t)}},"Add",8,vn)])})),128))])):Object(a["e"])("",!0)])):(Object(a["t"])(),Object(a["f"])("div",{key:1,class:"markdown",innerHTML:e.html},null,8,mn))}var On,jn=n("c2a7"),yn=On=function(e){Object(O["a"])(n,e);var t=Object(j["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.edit={parameters:[""]},e.newVariable="",e}return Object(f["a"])(n,[{key:"mounted",value:function(){this.entry.onSave=this.onSave,this.edit=Oe(this.entry),0===me(this.entry.parameters).trim().length&&(this.entry.parameters=[On.defaultContent()])}},{key:"html",get:function(){var e=me(this.entry.parameters,On.defaultContent),t=he(this.entry.variables,this.entry.values,e);return jn["a"].parse(t)}},{key:"editMarkdown",get:function(){return me(this.edit.parameters)},set:function(e){this.edit.parameters=e.split("\n")}},{key:"missingVariables",get:function(){var e=this,t=me(this.edit.parameters,On.defaultContent),n=t.match(On.variableNameRegex())||[];return n.map((function(e){return e.substring(2,e.length-1)})).filter((function(t){return!e.edit.variables.includes(t)}))}},{key:"onAddVariable",value:function(){this.entry.error="";var e=this.newVariable.trim().toUpperCase();if(0!==e.length){var t=On.variableNameRegex();t.test("${".concat(e,"}"))?this.edit.variables.includes(e)?this.entry.error="Another variable with the same name already exists":(this.edit.variables.push(e),this.newVariable=""):this.entry.error="Invalid variable name.  Only letters, numbers, underscore and dash are permitted"}else this.entry.error="Cannot add a variable without name"}},{key:"onUpdateVariable",value:function(e,t,n){this.entry.error="";var a=n.target,r=a.value.trim().toUpperCase();if(e!==r)return 0===r.length?(this.entry.error="Cannot have a variable without name",void(a.value=e)):this.edit.variables.includes(r)?(this.entry.error="Another variable with the same name already exists",void(a.value=e)):void(this.edit.variables[t]=r);a.value=e}},{key:"onRemoveVariable",value:function(e){this.edit.variables.splice(e,1)}},{key:"onAddMissingVariable",value:function(e){this.edit.variables.push(e)}},{key:"onSave",value:function(){this.entry.error="";var e=this.editMarkdown.trim();return 0===e.length?(this.entry.error="The markdown cannot be empty",{outcome:be.KeepEditing}):je(this.entry,this.edit)?{outcome:be.Changed,entry:this.edit}:{outcome:be.NotChanged}}}],[{key:"variableNameRegex",value:function(){return/\${[A-Z0-9_-]+}/}},{key:"defaultContent",value:function(){return"_**Lorem ipsum** dolor sit amet, consectetur adipiscing elit. Maecenas velit urna, bibendum ut finibusid, lacinia quis ante. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptoshimenaeos. Nunc sollicitudin turpis in purus consectetur faucibus. Integer magna arcu, tempus at diamid, maximus dapibus sapien. Vestibulum quis lobortis erat. In porttitor commodo ante non aliquam. Crasrhoncus pharetra ipsum in hendrerit. Nam ut justo aliquam, vehicula risus non, vestibulum nisl. Aeneanquis convallis metus, ut porta est. Nulla ullamcorper erat sit amet mi porttitor, et porta magnablandit._"}}]),n}(M["b"]);yn=On=Object(y["a"])([Object(M["a"])({name:"Markdown",props:{entry:Object}})],yn);var gn=yn;n("1359");const kn=l()(gn,[["render",fn],["__scopeId","data-v-2100f503"]]);var wn=kn,Cn={class:"filePath"},Vn=Object(a["i"])(" Replace the file: "),Pn=Object(a["i"])(", with the following contents "),xn={class:"content"};function En(e,t,n,r,i,o){return Object(a["t"])(),Object(a["f"])(a["a"],null,[Object(a["g"])("div",Cn,[Vn,Object(a["g"])("code",null,Object(a["D"])(e.filePath),1),Pn]),Object(a["g"])("pre",xn,Object(a["D"])(e.content),1)],64)}var Dn=function(e){Object(O["a"])(n,e);var t=Object(j["a"])(n);function n(){return Object(m["a"])(this,n),t.apply(this,arguments)}return Object(f["a"])(n,[{key:"filePath",get:function(){var e=this.entry.workingDirectory?"".concat(this.entry.workingDirectory,"/"):"";return"".concat(e).concat(this.entry.parameters[0])}},{key:"content",get:function(){return"".concat(this.entry.parameters.slice(1).join("\n"),"\n")}}]),n}(M["b"]);Dn=Object(y["a"])([Object(M["a"])({name:"Replace",props:{entry:Object}})],Dn);var Sn=Dn;n("3173");const An=l()(Sn,[["render",En],["__scopeId","data-v-0635e78d"]]);var Rn=An,Tn={key:0},Un={key:1};function Mn(e,t,n,r,i,o){return!0===e.entry.edit?(Object(a["t"])(),Object(a["f"])("div",Tn,[Object(a["K"])(Object(a["g"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.editSection=t}),placeholder:"Section"},null,512),[[a["H"],e.editSection]])])):(Object(a["t"])(),Object(a["f"])("h3",Un,Object(a["D"])(e.section),1))}var Nn=function(e){Object(O["a"])(n,e);var t=Object(j["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.edit={parameters:[""]},e}return Object(f["a"])(n,[{key:"mounted",value:function(){this.entry.onSave=this.onSave,this.edit=Oe(this.entry)}},{key:"section",get:function(){return fe(this.entry.parameters)}},{key:"editSection",get:function(){return fe(this.edit.parameters)},set:function(e){this.edit.parameters=[e]}},{key:"onSave",value:function(){return 0===fe(this.edit.parameters).length?(this.entry.error="The section cannot be empty",{outcome:be.KeepEditing}):je(this.entry,this.edit)?{outcome:be.Changed,entry:this.edit}:{outcome:be.NotChanged}}}]),n}(M["b"]);Nn=Object(y["a"])([Object(M["a"])({name:"Section",props:{entry:Object}})],Nn);var _n=Nn;n("957d");const In=l()(_n,[["render",Mn],["__scopeId","data-v-83f186dc"]]);var Hn=In,Bn={key:0},Kn={key:1};function Fn(e,t,n,r,i,o){return!0===e.entry.edit?(Object(a["t"])(),Object(a["f"])("div",Bn,[Object(a["K"])(Object(a["g"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.editSubsection=t}),placeholder:"Subsection"},null,512),[[a["H"],e.editSubsection]])])):(Object(a["t"])(),Object(a["f"])("h4",Kn,Object(a["D"])(e.subsection),1))}var $n=function(e){Object(O["a"])(n,e);var t=Object(j["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.edit={parameters:[""]},e}return Object(f["a"])(n,[{key:"mounted",value:function(){this.entry.onSave=this.onSave,this.edit=Oe(this.entry)}},{key:"subsection",get:function(){return fe(this.entry.parameters)}},{key:"editSubsection",get:function(){return fe(this.edit.parameters)},set:function(e){this.edit.parameters=[e]}},{key:"onSave",value:function(){return 0===fe(this.edit.parameters).length?(this.entry.error="The subsection cannot be empty",{outcome:be.KeepEditing}):je(this.entry,this.edit)?{outcome:be.Changed,entry:this.edit}:{outcome:be.NotChanged}}}]),n}(M["b"]);$n=Object(y["a"])([Object(M["a"])({name:"Subsection",props:{entry:Object}})],$n);var Ln=$n;n("0e30");const Gn=l()(Ln,[["render",Fn],["__scopeId","data-v-1f6718ac"]]);var Wn=Gn,Jn=function(e){return Object(a["x"])("data-v-7f4e0e3c"),e=e(),Object(a["u"])(),e},qn={key:0},Yn={role:"variables",class:"row"},Zn=Jn((function(){return Object(a["g"])("label",null,"Todo",-1)})),Xn={key:1},zn=Jn((function(){return Object(a["g"])("label",null,"Todo",-1)})),Qn=["innerHTML"];function ea(e,t,n,r,i,o){return!0===e.entry.edit?(Object(a["t"])(),Object(a["f"])("div",qn,[Object(a["g"])("div",Yn,[Zn,Object(a["K"])(Object(a["g"])("textarea",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.editMarkdown=t}),placeholder:"Markdown"},null,512),[[a["H"],e.editMarkdown]])])])):(Object(a["t"])(),Object(a["f"])("div",Xn,[zn,Object(a["g"])("div",{class:"todo",innerHTML:e.html},null,8,Qn)]))}var ta=function(e){Object(O["a"])(n,e);var t=Object(j["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.edit={parameters:[""]},e}return Object(f["a"])(n,[{key:"mounted",value:function(){this.entry.onSave=this.onSave,this.edit=Oe(this.entry)}},{key:"html",get:function(){var e=this.entry.parameters.join("\n"),t=he(this.entry.variables,this.entry.values,e);return jn["a"].parse(t)}},{key:"editMarkdown",get:function(){return this.edit.parameters.join("\n")},set:function(e){this.edit.parameters=e.split("\n")}},{key:"onSave",value:function(){return{outcome:be.Changed,entry:this.edit}}}]),n}(M["b"]);ta=Object(y["a"])([Object(M["a"])({name:"Todo",props:{entry:Object}})],ta);var na=ta;n("7c43");const aa=l()(na,[["render",ea],["__scopeId","data-v-7f4e0e3c"]]);var ra=aa,ia=function(e){return Object(a["x"])("data-v-f2d3447c"),e=e(),Object(a["u"])(),e},oa={key:0},ca={role:"sensitive",class:"row"},sa=ia((function(){return Object(a["g"])("label",null,"Sensitive",-1)})),ua=ia((function(){return Object(a["g"])("div",{class:"tip"},"Passwords or keys are considered as sensitive values",-1)})),la={role:"name",class:"row"},ba=ia((function(){return Object(a["g"])("label",null,"Name",-1)})),da={role:"value",class:"row"},pa=ia((function(){return Object(a["g"])("label",null,"Default value",-1)})),ha={key:1},va=Object(a["i"])("Set variable "),ma=ia((function(){return Object(a["g"])("div",{class:"tip"}," Press enter to set the variable's value. This will be applied automatically to the rest of the content. ",-1)}));function fa(e,t,n,r,i,o){return!0===e.entry.edit?(Object(a["t"])(),Object(a["f"])("div",oa,[Object(a["g"])("div",ca,[sa,Object(a["K"])(Object(a["g"])("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.edit.sensitive=t})},null,512),[[a["F"],e.edit.sensitive]]),ua]),Object(a["g"])("div",la,[ba,Object(a["K"])(Object(a["g"])("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.edit.name=t}),role:"name"},null,512),[[a["H"],e.edit.name]])]),Object(a["g"])("div",da,[pa,e.edit.sensitive?Object(a["K"])((Object(a["t"])(),Object(a["f"])("input",{key:0,type:"password","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.edit.parameters[0]=t}),role:"value"},null,512)),[[a["H"],e.edit.parameters[0]]]):Object(a["K"])((Object(a["t"])(),Object(a["f"])("input",{key:1,type:"text","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.edit.parameters[0]=t}),role:"value"},null,512)),[[a["H"],e.edit.parameters[0]]])])])):(Object(a["t"])(),Object(a["f"])("div",ha,[Object(a["g"])("label",null,[va,Object(a["g"])("code",null,Object(a["D"])(e.name),1)]),e.sensitive?Object(a["K"])((Object(a["t"])(),Object(a["f"])("input",{key:0,type:"password","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.value=t}),onKeyup:t[5]||(t[5]=Object(a["L"])((function(){return e.onVariableSet&&e.onVariableSet.apply(e,arguments)}),["enter"])),role:"value"},null,544)),[[a["H"],e.value]]):Object(a["K"])((Object(a["t"])(),Object(a["f"])("input",{key:1,type:"text","onUpdate:modelValue":t[6]||(t[6]=function(t){return e.value=t}),onKeyup:t[7]||(t[7]=Object(a["L"])((function(){return e.onVariableSet&&e.onVariableSet.apply(e,arguments)}),["enter"])),role:"value"},null,544)),[[a["H"],e.value]]),ma]))}var Oa=function(e){Object(O["a"])(n,e);var t=Object(j["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.edit={name:"",parameters:[""],sensitive:!0},e.value="",e}return Object(f["a"])(n,[{key:"mounted",value:function(){if(this.entry.onSave=this.onSave,this.edit=Oe(this.entry),this.value=this.getDefaultValue(),this.value.length>0){var e={name:this.entry.name,value:this.value};this.$emit("variableInitialised",e)}void 0===this.edit.sensitive&&(this.edit.sensitive=!0)}},{key:"sensitive",get:function(){return void 0===this.entry.sensitive||this.entry.sensitive}},{key:"name",get:function(){return this.entry.name}},{key:"onVariableSet",value:function(){var e=this.getDefaultValue();this.value!==e&&(this.entry.parameters=[this.value],this.$emit("variableUpdated",{name:this.entry.name,value:this.value,previousValue:e}))}},{key:"onSave",value:function(){return 0===this.edit.name.length?(this.entry.error="The variable name cannot be empty",{outcome:be.KeepEditing}):this.hasChanged()?(this.value=this.edit.parameters[0],{outcome:be.Changed,entry:this.edit}):{outcome:be.NotChanged}}},{key:"hasChanged",value:function(){return this.edit.sensitive!==this.entry.sensitive||this.edit.name!==this.entry.name||this.edit.parameters[0]!==this.entry.parameters[0]}},{key:"getDefaultValue",value:function(){return Array.isArray(this.entry.parameters)&&0!=this.entry.parameters.length?this.entry.parameters[0]:""}}]),n}(M["b"]);Oa=Object(y["a"])([Object(M["a"])({name:"Variable",props:{entry:Object},emits:["variableUpdated","variableInitialised"]})],Oa);var ja=Oa;n("1e6d");const ya=l()(ja,[["render",fa],["__scopeId","data-v-f2d3447c"]]);var ga=ya,ka=n("8030"),wa=n("cc7d"),Ca=n.n(wa);function Va(e,t){return new Promise((function(n,a){try{var r=new Ca.a("http://localhost:8077/ws"),i=ka["a"].over((function(){return r}));i.connect({},(function(){i.subscribe("/user/topic/run/output",(function(e){var n=JSON.parse(e.body);t(n)})),i.subscribe("/user/topic/run/outcome",(function(e){i.disconnect();var t=JSON.parse(e.body);n(t)})),i.send("/api/command/run",{},JSON.stringify(e))}))}catch(o){console.log("Failed to run command",o),a(o)}}))}var Pa=function(e){Object(O["a"])(n,e);var t=Object(j["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.disabled=!1,e}return Object(f["a"])(n,[{key:"isRunnable",value:function(e){var t=["command","create","docker-tag-and-push","download","git-apply-patch","git-commit-changes","git-tag-current-commit","replace"];return void 0!==t.find((function(t){return t===e.type}))}},{key:"onMouseEnter",value:function(e){e.showEditControls=!0}},{key:"onMouseLeave",value:function(e){e.showEditControls=!1}},{key:"onCopy",value:function(e){console.log("Copying command",e)}},{key:"onRun",value:function(e){var t=this;this.disabled=!0;var n=function(){},a=function(){return t.disabled=!1};this.run(e,n,a)}},{key:"onRunUntilHere",value:function(e){this.disabled=!0,this.runNext(0,e)}},{key:"runNext",value:function(e,t){var n=this;if(e>t)this.disabled=!1;else{var a=this.chapter.entries[e];if(this.isRunnable(a)&&!a.dryRun){this.scrollToEntry(a);var r=function(){return n.runNext(e+1,t)},i=function(){};this.run(a,r,i)}else this.runNext(e+1,t)}}},{key:"run",value:function(e,t,n){var a=this;if(e.failed=!1,e.output="",e.error="",!pe(e))return e.failed=!0,void(e.error="Variables not set!!");var r=this.createRunnableEntry(e);Va(r,(function(t){return e.output+=t.content})).then((function(n){switch(n.content){case"FINISHED_AS_EXPECTED":case"FINISHED_WITH_SUPPRESSED_ERROR":t();break;default:a.disabled=!1,e.failed=!0}})).catch((function(t){a.disabled=!1,e.error="Failed to run (".concat(U(t),")")})).finally(n)}},{key:"createRunnableEntry",value:function(e){return{type:e.type,id:e.id,name:e.name,workPath:this.chapter.workPath,workingDirectory:e.workingDirectory,parameters:Object.assign([],e.parameters),variables:Object.assign([],e.variables),environmentVariables:Object.assign([],e.environmentVariables),values:Object.assign({},e.values),ignoreErrors:e.ignoreErrors,pushChanges:e.pushChanges,dryRun:e.dryRun,expectedExitValue:e.expectedExitValue,commandTimeout:e.commandTimeout}}},{key:"onClear",value:function(e){e.output="",e.error=""}},{key:"onDelete",value:function(e){console.log("Deleting",e)}},{key:"onAddNext",value:function(e,t){var n=this,a=e.target,r=a.value,i={type:r,afterEntryWithId:t.id};this.disabled=!0,t.error="",this.createEntry(i).then((function(e){e.edit=!0,e.workingDirectory=t.workingDirectory;var a=n.chapter.entries.indexOf(t);n.chapter.entries.splice(a+1,0,e)})).catch((function(e){return t.error="Failed to create entry (".concat(U(e),")")})).finally((function(){n.disabled=!1,a.value=""}))}},{key:"createEntry",value:function(e){return T.post("/api/entry",e,{params:{bookPath:this.chapter.bookPath,chapterPath:this.chapter.chapterPath}}).then((function(e){return e.data}))}},{key:"onEdit",value:function(e){e.edit=!0}},{key:"onCancel",value:function(e){e.edit=!1}},{key:"onSave",value:function(e){e.error="";var t=e.onSave();switch(t.outcome){case be.Changed:this.handleChanged(e,t.entry);break;case be.NotChanged:this.handleNotChanged(e);break}}},{key:"handleChanged",value:function(e,t){var n=this;this.disabled=!0,this.saveEntry(t).then((function(t){return Object.assign(e,t)})).then((function(e){return e.edit=!1})).catch((function(t){return e.error="Failed to save entry (".concat(U(t),")")})).finally((function(){return n.disabled=!1}))}},{key:"handleNotChanged",value:function(e){e.edit=!1}},{key:"saveEntry",value:function(e){return T.put("/api/entry",e,{params:{bookPath:this.chapter.bookPath,chapterPath:this.chapter.chapterPath}}).then((function(e){return e.data}))}},{key:"onVariableInitialised",value:function(e){this.$emit("variableInitialised",e)}},{key:"onVariableUpdated",value:function(e){this.$emit("variableUpdated",e)}},{key:"scrollToEntry",value:function(e){var t=document.getElementById(e.id);null!==t&&t.scrollIntoView({behavior:"auto"})}}]),n}(M["b"]);Pa=Object(y["a"])([Object(M["a"])({name:"Content",props:{chapter:Object},components:{ChapterRenderer:we,Command:mt,Create:wt,Download:Dt,GitApplyPatch:Jt,GitCommitChanges:zt,GitTagCurrentCommit:an,Markdown:wn,Replace:Rn,Section:Hn,Subsection:Wn,Todo:ra,Variable:ga},emits:["variableUpdated","variableInitialised"]})],Pa);var xa=Pa;n("dcab");const Ea=l()(xa,[["render",ce],["__scopeId","data-v-217ab504"]]);var Da=Ea,Sa={class:"message-bar"};function Aa(e,t,n,r,i,o){return Object(a["t"])(),Object(a["f"])("div",Sa,[Object(a["g"])("div",null,Object(a["D"])(e.message),1)])}var Ra=function(e){Object(O["a"])(n,e);var t=Object(j["a"])(n);function n(){return Object(m["a"])(this,n),t.apply(this,arguments)}return n}(M["b"]);Ra=Object(y["a"])([Object(M["a"])({name:"MessageBar",props:{message:String}})],Ra);var Ta=Ra;const Ua=l()(Ta,[["render",Aa]]);var Ma=Ua,Na=function(e){return Object(a["x"])("data-v-2bc2c426"),e=e(),Object(a["u"])(),e},_a={class:"open"},Ia={class:"openRepository"},Ha=Na((function(){return Object(a["g"])("h2",null,"Open repository",-1)})),Ba=Na((function(){return Object(a["g"])("label",{for:"openLocal"},"Open",-1)})),Ka=Na((function(){return Object(a["g"])("label",{for:"openFromFolder"},"Open from folder",-1)})),Fa=["disabled"],$a=Na((function(){return Object(a["g"])("label",{for:"checkout"},"Checkout from an online git repository, like GitHub or GitLab",-1)})),La=Na((function(){return Object(a["g"])("label",{for:"pathToRepository"},"Path to repository",-1)})),Ga=["disabled"],Wa=Na((function(){return Object(a["g"])("label",{for:"checkoutToFolder"},"Checkout to folder",-1)})),Ja=["disabled"],qa=Na((function(){return Object(a["g"])("label",{for:"createNew"},"New",-1)})),Ya=Na((function(){return Object(a["g"])("label",{for:"createNewFolder"},"Open from folder",-1)})),Za=["disabled"],Xa={class:"workspace"},za=Na((function(){return Object(a["g"])("h2",null,"Workspace",-1)})),Qa=Na((function(){return Object(a["g"])("label",{for:"workspace"},"Workspace",-1)})),er={class:"buttons"},tr={class:"actionMessage"};function nr(e,t,n,r,i,o){return Object(a["t"])(),Object(a["f"])("div",_a,[Object(a["g"])("div",Ia,[Ha,Object(a["g"])("div",null,[Object(a["K"])(Object(a["g"])("input",{type:"radio",id:"openLocal",value:"openLocal","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.openFrom=t})},null,512),[[a["G"],e.openFrom]]),Ba]),Object(a["g"])("div",null,[Ka,Object(a["K"])(Object(a["g"])("input",{type:"text",id:"openFromFolder","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.bookPath=t}),disabled:"openLocal"!==e.openFrom},null,8,Fa),[[a["H"],e.bookPath]])]),Object(a["g"])("div",null,[Object(a["K"])(Object(a["g"])("input",{type:"radio",id:"checkout",value:"checkout","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.openFrom=t})},null,512),[[a["G"],e.openFrom]]),$a]),Object(a["g"])("div",null,[La,Object(a["K"])(Object(a["g"])("input",{type:"text",id:"pathToRepository","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.pathToRepository=t}),disabled:"checkout"!==e.openFrom},null,8,Ga),[[a["H"],e.pathToRepository]])]),Object(a["g"])("div",null,[Wa,Object(a["K"])(Object(a["g"])("input",{type:"text",id:"checkoutToFolder","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.bookPath=t}),disabled:"checkout"!==e.openFrom},null,8,Ja),[[a["H"],e.bookPath]])]),Object(a["g"])("div",null,[Object(a["K"])(Object(a["g"])("input",{type:"radio",id:"createNew",value:"createNew","onUpdate:modelValue":t[5]||(t[5]=function(t){return e.openFrom=t})},null,512),[[a["G"],e.openFrom]]),qa]),Object(a["g"])("div",null,[Ya,Object(a["K"])(Object(a["g"])("input",{type:"text",id:"createNewFolder","onUpdate:modelValue":t[6]||(t[6]=function(t){return e.bookPath=t}),disabled:"createNew"!==e.openFrom},null,8,Za),[[a["H"],e.bookPath]])])]),Object(a["g"])("div",Xa,[za,Object(a["g"])("div",null,[Qa,Object(a["K"])(Object(a["g"])("input",{type:"text",id:"workspace","onUpdate:modelValue":t[7]||(t[7]=function(t){return e.workPath=t})},null,512),[[a["H"],e.workPath]])])]),Object(a["g"])("div",er,["openLocal"===e.openFrom?(Object(a["t"])(),Object(a["f"])("button",{key:0,class:"open",onClick:t[8]||(t[8]=function(){return e.onOpenBook&&e.onOpenBook.apply(e,arguments)})},"Open")):Object(a["e"])("",!0),"checkout"===e.openFrom?(Object(a["t"])(),Object(a["f"])("button",{key:1,class:"open",onClick:t[9]||(t[9]=function(){return e.onCheckoutBook&&e.onCheckoutBook.apply(e,arguments)})},"Checkout and Open")):Object(a["e"])("",!0),"createNew"===e.openFrom?(Object(a["t"])(),Object(a["f"])("button",{key:2,class:"open",onClick:t[10]||(t[10]=function(){return e.onCreateBook&&e.onCreateBook.apply(e,arguments)})},"Create")):Object(a["e"])("",!0),Object(a["g"])("span",tr,Object(a["D"])(e.actionMessage),1)])])}var ar=n("5530"),rr=function(e){Object(O["a"])(n,e);var t=Object(j["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.pathToRepository="",e.openFrom="openLocal",e.actionMessage="",e.bookPath="",e.workPath="",e}return Object(f["a"])(n,[{key:"mounted",value:function(){var e=this;this.$nextTick((function(){e.bookPath=e.workspace.bookPath,e.workPath=e.workspace.workPath,e.isBookPathSet()&&e.isWorkPathSet()&&e.handleOpenBook()}))}},{key:"onCheckoutBook",value:function(){this.actionMessage="This feature is not yet implemented"}},{key:"onCreateBook",value:function(){this.actionMessage="This feature is not yet implemented"}},{key:"onOpenBook",value:function(){this.actionMessage="",this.isBookPathSet()&&this.isWorkPathSet()?this.handleOpenBook():this.actionMessage="Please provide both the book and workspace folder paths"}},{key:"handleOpenBook",value:function(){var e=this,t=this.bookPath,n=this.workPath;this.openBook(t).then((function(a){var r=Object(ar["a"])(Object(ar["a"])({},a),{},{bookPath:t,workPath:n});e.$emit("bookOpened",r)})).catch((function(t){e.actionMessage="Failed to open working book (".concat(U(t),")")}))}},{key:"openBook",value:function(e){return T.get("/api/book",{params:{bookPath:e}}).then((function(e){return e.data})).then((function(e){return e}))}},{key:"isBookPathSet",value:function(){return this.isNonBlank(this.bookPath)}},{key:"isWorkPathSet",value:function(){return this.isNonBlank(this.workPath)}},{key:"isNonBlank",value:function(e){return e.trim().length>0}}]),n}(M["b"]);rr=Object(y["a"])([Object(M["a"])({name:"Open",emits:["bookOpened"],props:{workspace:Object}})],rr);var ir=rr;n("2e33");const or=l()(ir,[["render",nr],["__scopeId","data-v-2bc2c426"]]);var cr=or,sr=(n("a4d3"),n("e01a"),{class:"toc"}),ur=Object(a["g"])("h2",null,"Chapters",-1),lr=["onClick"];function br(e,t,n,r,i,o){return Object(a["t"])(),Object(a["f"])("div",sr,[Object(a["g"])("h1",null,Object(a["D"])(e.book.title),1),Object(a["g"])("p",null,Object(a["D"])(e.book.description),1),ur,(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["A"])(e.book.chapters,(function(t){return Object(a["t"])(),Object(a["f"])("div",{key:t.title},[Object(a["g"])("h3",{onClick:function(n){return e.onReadChapter(t.path)}},Object(a["D"])(t.title),9,lr),Object(a["g"])("p",null,Object(a["D"])(t.description),1)])})),128))])}var dr=function(e){Object(O["a"])(n,e);var t=Object(j["a"])(n);function n(){return Object(m["a"])(this,n),t.apply(this,arguments)}return Object(f["a"])(n,[{key:"mounted",value:function(){var e=this;this.$nextTick((function(){e.chapterPath.trim().length>0&&e.onReadChapter(e.chapterPath)}))}},{key:"onReadChapter",value:function(e){var t=this;this.readChapter(this.book.bookPath,e).then((function(e){t.$emit("chapterRead",e)})).catch((function(e){t.$emit("errorMessage","Failed to open chapter (".concat(U(e),")"))}))}},{key:"readChapter",value:function(e,t){return T.get("/api/chapter",{params:{bookPath:e,chapterPath:t}}).then((function(e){return e.data})).then((function(n){return Object(ar["a"])(Object(ar["a"])({},n),{},{bookPath:e,chapterPath:t})}))}}]),n}(M["b"]);dr=Object(y["a"])([Object(M["a"])({name:"Toc",emits:["chapterRead","errorMessage"],props:{book:Object,chapterPath:String}})],dr);var pr=dr;const hr=l()(pr,[["render",br]]);var vr=hr,mr=function(e){Object(O["a"])(n,e);var t=Object(j["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.appIsRunning=!1,e.book=null,e.chapter=null,e.workspace={bookPath:"",workPath:"",chapterPath:""},e.message=null,e}return Object(f["a"])(n,[{key:"mounted",value:function(){this.workspace.bookPath=this.$route.params.bookPath||"",this.workspace.workPath=this.$route.params.workPath||"",this.workspace.chapterPath=this.$route.params.chapterPath||""}},{key:"onAppIsRunning",value:function(e){this.appIsRunning=e}},{key:"onOpenBook",value:function(e){this.workspace.bookPath=e.bookPath,this.workspace.workPath=e.workPath,this.$router.push({name:"Home",params:{bookPath:this.workspace.bookPath,workPath:this.workspace.workPath}}),this.book=e}},{key:"onChapterRead",value:function(e){this.workspace.chapterPath=e.chapterPath,this.$router.push({name:"Home",params:{bookPath:this.workspace.bookPath,workPath:this.workspace.workPath,chapterPath:this.workspace.chapterPath}}),this.chapter=e,this.chapter.workPath=this.workspace.workPath}},{key:"onErrorMessage",value:function(e){this.message=e}},{key:"onVariableUpdated",value:function(e){var t;null===(t=this.chapter)||void 0===t||t.entries.forEach((function(t){de(t,e)}))}}]),n}(M["b"]);mr=Object(y["a"])([Object(M["a"])({components:{MessageBar:Ma,App:H,Open:cr,Toc:vr,Content:Da}})],mr);var fr=mr;const Or=l()(fr,[["render",v]]);var jr=Or,yr=n("6c02"),gr=[{path:"/:bookPath?/:workPath?/:chapterPath?",name:"Home",component:jr,props:!0},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}}],kr=Object(yr["a"])({history:Object(yr["b"])(),routes:gr}),wr=kr,Cr=n("5502"),Vr=Object(Cr["a"])({state:{},mutations:{},actions:{},modules:{}});Object(a["c"])(p).use(Vr).use(wr).mount("#app")},d35f:function(e,t,n){},dcab:function(e,t,n){"use strict";n("ad82")},ebab:function(e,t,n){},f005:function(e,t,n){},f09e:function(e,t,n){"use strict";n("2910")},f2df:function(e,t,n){},f9f0:function(e,t,n){}});
//# sourceMappingURL=app.3265e1d3.js.map